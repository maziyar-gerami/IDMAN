(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-26f313e6"],{"8b3a":function(e,t,r){},bb18:function(e,t,r){var i,a,s;(function(){var r={},c="[۰-۹]",n=["[کگۀی،","تثجحخد","غيًٌٍَ","ُپٰچژ‌","ء-ةذ-عف-ٔ]"].join(""),o="(،|؟|«|»|؛|٬)",d="(\\.|:|\\!|\\-|\\[|\\]|\\(|\\)|/)";function u(){for(var e="(",t=0;t<arguments.length;t++)e+="(",e+=t!=arguments.length-1?arguments[t]+")|":arguments[t]+")";return e+")"}r.number=new RegExp("^"+c+"+$"),r.letter=new RegExp("^"+n+"+$"),r.punctuation=new RegExp("^"+u(o,d)+"+$"),r.text=new RegExp("^"+u(c,n,o,d,"\\s")+"+$"),r.rtl=new RegExp("^"+u(n,c,o,"\\s")+"+$"),r.hasNumber=new RegExp(c),r.hasLetter=new RegExp(n),r.hasPunctuation=new RegExp(u(o,d)),r.hasText=new RegExp(u(c,n,o,d)),r.hasRtl=new RegExp(u(c,n,o)),r.numbersASCIRange=c,r.lettersASCIRange=n,r.rtlPunctuationsASCIRange=o,r.ltrPunctuationsASCIRange=d,a=[],i=r,s="function"===typeof i?i.apply(t,a):i,void 0===s||(e.exports=s)})()},c7bd:function(e,t,r){"use strict";r("8b3a")},f23e:function(e,t,r){"use strict";r.r(t);var i=r("7a23"),a={class:"grid"},s={class:"col-12"},c={class:"card"};function n(e,t,r,n,o,d){return Object(i["C"])(),Object(i["j"])("div",a,[Object(i["k"])("div",s,[Object(i["k"])("div",c,[Object(i["k"])("h3",null,Object(i["O"])(e.$t("services")),1)])])])}var o=r("e6da"),d=r.n(o),u={name:"Services",data:function(){return{services:[{serviceId:"https://parsso2.razi.ac.ir/cas",_id:1622621368114,name:"SSONew1",description:"جدید",logo:"https://pars-sso.ir/wp-content/uploads/2018/11/logo.png",url:"https://parsso2.razi.ac.ir/cas",dailyAccess:null,ipaddresses:null}],selectedServices:[],multifactorAuthenticationProvidersOptions:[{value:"",name:this.$t("disabled")},{value:"mfa-simple",name:this.$t("smsCode")},{value:"mfa-gauth",name:this.$t("oneTimePassword")},{value:"mfa-u2f",name:this.$t("hardwareToken")}],failureModeOptions:["NONE","CLOSED","OPEN","PHANTOM"],searchQueryAllowedList:[],allowedResultQuery:[{_id:"admin",displayName:"ادمین"},{_id:"admin",displayName:"ادمین"}],createServiceErrors:{id:"",name:""},editServiceErrors:{id:"",name:""},createServiceBuffer:{name:"",serviceId:"",metadataLocation:"",description:"",logo:"",informationUrl:"",privacyUrl:"",logoutType:"",logoutUrl:"",contacts:"",accessStrategy:{requiredAttributes:{uid:["java.util.HashSet",[]],ou:""},rejectedAttributes:{uid:["java.util.HashSet",[]]}},multifactorPolicy:{multifactorAuthenticationProviders:{value:"",name:this.$t("disabled")},bypassEnabled:!1,failureMode:null},extraInfo:{notificationApiURL:null,notificationApiKey:null}},editServiceBuffer:{id:"",name:"",description:"",usersCount:null,usersList:[[],[]],usersListBuffer:[[],[]],memberSearch:"",nonMemberSearch:"",usersAddList:[],usersRemoveList:[]},tabActiveIndexList:0,tabActiveIndexCreate:0,tabActiveIndexEdit:0,serviceToolbarBuffer:"",loading:!1,createServiceFlag:!1,editServiceFlag:!1,createServiceLoader:!1,editServiceLoader:!1,persianRex:null}},mounted:function(){this.persianRex=r("bb18"),this.servicesRequestMaster("getServices")},methods:{servicesRequestMaster:function(e){var t=this,r=this,i="";if("Fa"===this.$i18n.locale?i="fa":"En"===this.$i18n.locale&&(i="en"),"getServices"===e)this.loading=!0,this.axios({url:"/api/services/main",method:"GET",params:{lang:i}}).then((function(e){200===e.data.status.code?(r.services=e.data.data,r.loading=!1):(r.alertPromptMaster(r.$t("requestError"),"","pi-exclamation-triangle","#FDB5BA"),r.loading=!1)})).catch((function(){r.alertPromptMaster(r.$t("requestError"),"","pi-exclamation-triangle","#FDB5BA"),r.loading=!1}));else if("getService"===e)this.editServiceLoader=!0,this.axios({url:"/api/services",method:"GET",params:{id:r.editServiceBuffer.id,lang:i}}).then((function(e){200===e.data.status.code?(r.editServiceBuffer=e.data.data,r.baseServiceId=e.data.data.id,r.editServiceLoader=!1):(r.alertPromptMaster(r.$t("requestError"),"","pi-exclamation-triangle","#FDB5BA"),r.editServiceLoader=!1,r.resetState("editService"))})).catch((function(){r.alertPromptMaster(r.$t("requestError"),"","pi-exclamation-triangle","#FDB5BA"),r.editServiceLoader=!1,r.resetState("editService")}));else if("createService"===e){this.createServiceBuffer.usersAddList=[],this.createServiceBuffer.usersRemoveList=[];var a=this.createServiceBuffer.usersListBuffer[1].filter((function(e){return!t.createServiceBuffer.usersList[1].map((function(e){return e._id})).includes(e._id)})),s=this.createServiceBuffer.usersListBuffer[0].filter((function(e){return!t.createServiceBuffer.usersList[0].map((function(e){return e._id})).includes(e._id)}));for(var c in a)this.createServiceBuffer.usersAddList.push(a[c]._id);for(var n in s)this.createServiceBuffer.usersRemoveList.push(s[n]._id);this.createServiceLoader=!0,this.axios({url:"/api/services",method:"POST",headers:{"Content-Type":"application/json"},params:{lang:i},data:JSON.stringify({id:r.createServiceBuffer.id,name:r.createServiceBuffer.name,description:r.createServiceBuffer.description}).replace(/\\\\/g,"\\")}).then((function(e){201===e.data.status.code?t.axios({url:"/api/users/service/"+r.createServiceBuffer.id,method:"PUT",headers:{"Content-Type":"application/json"},data:JSON.stringify({add:r.createServiceBuffer.usersAddList,remove:r.createServiceBuffer.usersRemoveList}).replace(/\\\\/g,"\\")}).then((function(e){200===e.data.status.code?(r.createServiceLoader=!1,r.resetState("createService"),r.servicesRequestMaster("getServices")):207===e.data.status.code?(r.alertPromptMaster(e.data.status.result,"","pi-exclamation-triangle","#FDB5BA"),r.createServiceLoader=!1,r.resetState("createService"),r.servicesRequestMaster("getServices")):(r.alertPromptMaster(r.$t("requestError"),"","pi-exclamation-triangle","#FDB5BA"),r.createServiceLoader=!1,r.resetState("createService"),r.servicesRequestMaster("getServices"))})).catch((function(){r.alertPromptMaster(r.$t("requestError"),"","pi-exclamation-triangle","#FDB5BA"),r.createServiceLoader=!1,r.resetState("createService"),r.servicesRequestMaster("getServices")})):302===e.data.status.code?(r.alertPromptMaster(e.data.status.result,"","pi-exclamation-triangle","#FDB5BA"),r.createServiceLoader=!1):(r.alertPromptMaster(r.$t("requestError"),"","pi-exclamation-triangle","#FDB5BA"),r.createServiceLoader=!1)})).catch((function(){r.alertPromptMaster(r.$t("requestError"),"","pi-exclamation-triangle","#FDB5BA"),r.createServiceLoader=!1}))}else if("editService"===e){this.editServiceBuffer.usersAddList=[],this.editServiceBuffer.usersRemoveList=[];var o=this.editServiceBuffer.usersListBuffer[1].filter((function(e){return!t.editServiceBuffer.usersList[1].map((function(e){return e._id})).includes(e._id)})),d=this.editServiceBuffer.usersListBuffer[0].filter((function(e){return!t.editServiceBuffer.usersList[0].map((function(e){return e._id})).includes(e._id)}));for(var u in o)this.editServiceBuffer.usersAddList.push(o[u]._id);for(var l in d)this.editServiceBuffer.usersRemoveList.push(d[l]._id);this.editServiceLoader=!0,this.axios({url:"/api/services/"+r.baseServiceId,method:"PUT",headers:{"Content-Type":"application/json"},params:{lang:i},data:JSON.stringify({id:r.editServiceBuffer.id,name:r.editServiceBuffer.name,description:r.editServiceBuffer.description}).replace(/\\\\/g,"\\")}).then((function(e){200===e.data.status.code?t.axios({url:"/api/users/service/"+r.editServiceBuffer.id,method:"PUT",headers:{"Content-Type":"application/json"},params:{lang:i},data:JSON.stringify({add:r.editServiceBuffer.usersAddList,remove:r.editServiceBuffer.usersRemoveList}).replace(/\\\\/g,"\\")}).then((function(e){200===e.data.status.code?(r.editServiceLoader=!1,r.resetState("editService"),r.servicesRequestMaster("getServices")):207===e.data.status.code?(r.alertPromptMaster(e.data.status.result,"","pi-exclamation-triangle","#FDB5BA"),r.editServiceLoader=!1,r.resetState("editService"),r.servicesRequestMaster("getServices")):(r.alertPromptMaster(r.$t("requestError"),"","pi-exclamation-triangle","#FDB5BA"),r.editServiceLoader=!1,r.resetState("editService"),r.servicesRequestMaster("getServices"))})).catch((function(){r.alertPromptMaster(r.$t("requestError"),"","pi-exclamation-triangle","#FDB5BA"),r.editServiceLoader=!1,r.resetState("editService"),r.servicesRequestMaster("getServices")})):(r.alertPromptMaster(r.$t("requestError"),"","pi-exclamation-triangle","#FDB5BA"),r.editServiceLoader=!1)})).catch((function(){r.alertPromptMaster(r.$t("requestError"),"","pi-exclamation-triangle","#FDB5BA"),r.editServiceLoader=!1}))}else if("deleteService"===e){var v=[this.serviceToolbarBuffer];this.loading=!0,this.axios({url:"/api/services",method:"DELETE",headers:{"Content-Type":"application/json"},params:{lang:i},data:JSON.stringify({names:v}).replace(/\\\\/g,"\\")}).then((function(e){204===e.data.status.code?(r.loading=!1,r.servicesRequestMaster("getServices")):(r.alertPromptMaster(r.$t("requestError"),"","pi-exclamation-triangle","#FDB5BA"),r.loading=!1)})).catch((function(){r.alertPromptMaster(r.$t("requestError"),"","pi-exclamation-triangle","#FDB5BA"),r.loading=!1}))}else if("deleteServices"===e){var f=[];for(var p in this.selectedServices)f.push(this.selectedServices[p].id);this.loading=!0,this.axios({url:"/api/services",method:"DELETE",headers:{"Content-Type":"application/json"},params:{lang:i},data:JSON.stringify({names:f}).replace(/\\\\/g,"\\")}).then((function(e){204===e.data.status.code?(r.loading=!1,r.servicesRequestMaster("getServices")):(r.alertPromptMaster(r.$t("requestError"),"","pi-exclamation-triangle","#FDB5BA"),r.loading=!1)})).catch((function(){r.alertPromptMaster(r.$t("requestError"),"","pi-exclamation-triangle","#FDB5BA"),r.loading=!1}))}else"editPosition"===e&&(this.loading=!0,this.axios({url:"/api/services/position/"+r.serviceToolbarBuffer.id,method:"GET",params:{value:r.serviceToolbarBuffer.change,lang:i}}).then((function(){r.loading=!1,r.servicesRequestMaster("getServices")})).catch((function(){r.alertPromptMaster(r.$t("requestError"),"","pi-exclamation-triangle","#FDB5BA"),r.loading=!1})))},alertPromptMaster:function(e,t,r,i){var a=!0;"ltr"===this.$store.state.direction&&(a=!1),d.a.show({title:e,message:t,position:"center",icon:"pi "+r,backgroundColor:i,transitionIn:"fadeInLeft",rtl:a,layout:2,timeout:!1,progressBar:!1,buttons:[["<button class='service-notification-button my-3' style='border-radius: 6px;'>"+this.$t("confirm")+"</button>",function(e,t){e.hide({transitionOut:"fadeOutRight"},t)}]]})},confirmPromptMaster:function(e,t,r,i,a,s){var c=!0;"ltr"===this.$store.state.direction&&(c=!1),d.a.show({title:e,message:t,position:"center",icon:"pi "+r,backgroundColor:i,transitionIn:"fadeInLeft",rtl:c,layout:2,timeout:!1,progressBar:!1,buttons:[["<button class='service-notification-button mx-3 my-3' style='background: #22C55E; color: #FFFFFF; border-radius: 6px;'>"+this.$t("yes")+"</button>",function(e,t){e.hide({transitionOut:"fadeOutRight"},t),a(s)}],["<button class='service-notification-button mx-3 my-3' style='background: #EF4444; color: #FFFFFF; border-radius: 6px;'>"+this.$t("no")+"</button>",function(e,t){e.hide({transitionOut:"fadeOutRight"},t)}]]})},createService:function(){this.createServiceFlag=!0,this.tabActiveIndexList=1},createServiceCheckup:function(){var e=0;""===this.createServiceBuffer.id?(this.createServiceErrors.id="p-invalid",e+=1):this.createServiceErrors._id="",""===this.createServiceBuffer.name?(this.createServiceErrors.name="p-invalid",e+=1):this.createServiceErrors.name="",e>0?this.alertPromptMaster(this.$t("invalidInputsError"),"","pi-exclamation-triangle","#FDB5BA"):this.servicesRequestMaster("createService")},editService:function(e){this.editServiceBuffer.id=e,this.editServiceFlag=!0,this.createServiceFlag?this.tabActiveIndex=2:this.tabActiveIndex=1,this.servicesRequestMaster("getService"),this.servicesRequestMaster("getUsersEditService")},editServiceCheckup:function(){var e=0;""===this.editServiceBuffer.id?(this.editServiceErrors.id="p-invalid",e+=1):this.editServiceErrors.id="",""===this.editServiceBuffer.name?(this.editServiceErrors.name="p-invalid",e+=1):this.editServiceErrors.name="",e>0?this.alertPromptMaster(this.$t("invalidInputsError"),"","pi-exclamation-triangle","#FDB5BA"):this.servicesRequestMaster("editService")},deleteService:function(e){this.serviceToolbarBuffer=e,this.confirmPromptMaster(this.$t("confirmPromptText"),this.$t("delete")+" "+String(e),"pi-question-circle","#F0EAAA",this.servicesRequestMaster,"deleteService")},positionService:function(e,t){this.serviceToolbarBuffer={id:t,change:e},this.servicesRequestMaster("editPosition")},servicesToolbar:function(e){this.selectedServices.length>0?"delete"===e?this.confirmPromptMaster(this.$t("confirmPromptText"),this.$t("delete")+" "+this.$t("services"),"pi-question-circle","#F0EAAA",this.servicesRequestMaster,"deleteServices"):"expirePassword"===e&&this.confirmPromptMaster(this.$t("confirmPromptText"),this.$t("expirePassword")+" "+this.$t("services"),"pi-question-circle","#F0EAAA",this.servicesRequestMaster,"expireServicesPasswords"):this.alertPromptMaster(this.$t("noServiceSelected"),"","pi-exclamation-triangle","#FDB5BA")},resetState:function(e){"createService"===e?(this.tabActiveIndex=0,this.createServiceFlag=!1,this.createServiceBuffer={id:"",name:"",description:"",usersCount:null,usersList:[[],[]]}):"editService"===e&&(this.tabActiveIndex=0,this.editServiceFlag=!1,this.editServiceBuffer={id:"",name:"",description:"",usersCount:null,usersList:[[],[]]})},englishInputFilter:function(e){if("keypress"===e.type){var t=e.keyCode?e.keyCode:e.which;(t<48||t>122||t>57&&t<65||t>90&&t<97)&&e.preventDefault()}else if("paste"===e.type)for(var r=e.clipboardData.getData("text"),i=0;i<r.length;++i){if(r[i].charCodeAt(0)<48||r[i].charCodeAt(0)>122){e.preventDefault();break}if(r[i].charCodeAt(0)>57&&r[i].charCodeAt(0)<65){e.preventDefault();break}if(r[i].charCodeAt(0)>90&&r[i].charCodeAt(0)<97){e.preventDefault();break}}},persianInputFilter:function(e){if("keypress"===e.type){var t=e.key?e.key:e.which,r=e.keyCode?e.keyCode:e.which;(r<48||r>57)&&(r>32&&r<65||r>90&&r<97||r>122&&r<127?e.preventDefault():this.persianRex.text.test(t)||e.preventDefault())}else if("paste"===e.type)for(var i=e.clipboardData.getData("text"),a=0;a<i.length;++a)if(i[a].charCodeAt(0)<48||i[a].charCodeAt(0)>57){if(i[a].charCodeAt(0)>32&&i[a].charCodeAt(0)<65){e.preventDefault();break}if(i[a].charCodeAt(0)>90&&i[a].charCodeAt(0)<97){e.preventDefault();break}if(i[a].charCodeAt(0)>122&&i[a].charCodeAt(0)<127){e.preventDefault();break}if(!this.persianRex.text.test(i[a])){e.preventDefault();break}}}}},l=(r("c7bd"),r("6b0d")),v=r.n(l);const f=v()(u,[["render",n],["__scopeId","data-v-250ab103"]]);t["default"]=f}}]);
//# sourceMappingURL=chunk-26f313e6.448daee5.js.map